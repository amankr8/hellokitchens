<div
  class="group bg-white rounded-[2rem] p-3 shadow-sm border border-gray-100 flex gap-4 hover:shadow-xl hover:shadow-orange-100/20 hover:border-orange-100 transition-all duration-300 relative overflow-hidden"
  [class.opacity-60]="!menuItem.inStock"
>
  <div
    class="relative w-32 h-32 sm:w-40 sm:h-40 flex-shrink-0 overflow-hidden rounded-[1.5rem] bg-gray-50"
  >
    <img
      [src]="getImageUrl()"
      [alt]="menuItem.name"
      (error)="onImageError($event)"
      class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
    />

    <div
      *ngIf="!menuItem.inStock"
      class="absolute inset-0 bg-black/40 flex items-center justify-center backdrop-blur-[2px]"
    >
      <span
        class="bg-white text-black text-[10px] font-black uppercase px-2 py-1 rounded-lg"
        >Sold Out</span
      >
    </div>

    <div class="absolute top-3 left-3 shadow-sm">
      <div
        [ngClass]="menuItem.isVeg ? 'border-green-600' : 'border-red-600'"
        class="w-4 h-4 border-2 bg-white flex items-center justify-center"
      >
        <div
          [ngClass]="menuItem.isVeg ? 'bg-green-600' : 'bg-red-600'"
          class="w-1.5 h-1.5 rounded-full"
        ></div>
      </div>
    </div>
  </div>

  <div class="flex-1 py-1 flex flex-col justify-between">
    <div>
      <div class="flex justify-between items-start">
        <span
          class="text-[10px] font-black text-orange-600 uppercase tracking-widest mb-1 block"
        >
          {{ menuItem.category }}
        </span>
      </div>
      <h3
        class="text-lg font-black text-gray-900 leading-tight mb-1 group-hover:text-orange-600 transition-colors"
      >
        {{ menuItem.name }}
      </h3>
      <p class="text-xs text-gray-500 line-clamp-2 leading-relaxed">
        {{ menuItem.desc }}
      </p>
    </div>

    <div class="flex items-center justify-between mt-3">
      <div class="flex flex-col">
        <span
          class="text-[10px] text-gray-400 font-bold uppercase tracking-tighter"
          >Price</span
        >
        <span class="text-xl font-black text-gray-900"
          >â‚¹{{ menuItem.price }}</span
        >
      </div>

      <div class="w-24 h-9 flex justify-end">
        <button
          *ngIf="quantity === 0 && menuItem.inStock"
          (click)="onAddClick($event)"
          class="w-full h-full bg-gray-900 text-white rounded-full text-[11px] font-black uppercase tracking-wider hover:bg-orange-600 transition-all active:scale-95 flex items-center justify-center shadow-sm"
        >
          Add
        </button>

        <div
          *ngIf="quantity > 0 && menuItem.inStock"
          class="w-full h-full flex items-center justify-between bg-orange-600 text-white rounded-full shadow-md shadow-orange-100 animate-in zoom-in duration-200"
        >
          <button
            (click)="onDecrease()"
            class="w-9 h-full flex items-center justify-center hover:bg-orange-700 transition-colors rounded-l-full pl-1"
          >
            <fa-icon
              [icon]="quantity === 1 ? icons.delete : icons.remove"
              class="text-[9px]"
            ></fa-icon>
          </button>

          <span class="flex-1 text-center font-black text-xs select-none">
            {{ quantity }}
          </span>

          <button
            (click)="onIncrease($event)"
            class="w-9 h-full flex items-center justify-center hover:bg-orange-700 transition-colors rounded-r-full pr-1"
          >
            <fa-icon [icon]="icons.add" class="text-[9px]"></fa-icon>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
