<div class="h-screen flex flex-col bg-gray-50 overflow-hidden">
  <header
    class="sticky top-0 h-16 bg-white border-b border-gray-100 py-4 px-6 flex justify-between items-center shadow-sm z-30"
  >
    <div class="flex items-center gap-4">
      <button
        (click)="toggleSidebar()"
        class="p-2 hover:bg-gray-100 rounded-xl transition-colors text-gray-500 active:scale-95"
      >
        <fa-icon
          [icon]="isSidebarCollapsed() ? icons.menu : icons.bars"
        ></fa-icon>
      </button>

      <div
        routerLink="/"
        class="flex items-center gap-2 cursor-pointer group hover:opacity-80 transition-all active:scale-95"
      >
        <fa-icon
          [icon]="icons.logo"
          class="text-orange-600 text-xl transition-transform group-hover:rotate-12"
        ></fa-icon>
        <span class="text-orange-600 font-bold text-xl ml-1 tracking-tight"
          >LiveMenu</span
        >
      </div>
    </div>

    <div class="flex items-center gap-6">
      <div class="hidden sm:flex flex-col items-end">
        <span class="text-sm font-bold text-gray-800">
          {{ this.kitchen()?.name }}
        </span>
        <span class="text-[10px] text-gray-400 uppercase font-bold text-right"
          >Kitchen Owner</span
        >
      </div>

      <button
        (click)="onLogout()"
        class="flex items-center gap-2 px-4 py-2 text-sm font-bold text-red-500 hover:bg-red-50 rounded-xl transition-all active:scale-95"
      >
        <fa-icon [icon]="icons.logout"></fa-icon>
        <span class="inline">Logout</span>
      </button>
    </div>
  </header>

  <div class="flex flex-1 overflow-hidden">
    <aside
      [class.w-64]="!isSidebarCollapsed()"
      [class.w-20]="isSidebarCollapsed()"
      class="bg-white border-r border-gray-100 p-4 hidden md:flex flex-col overflow-y-auto transition-all duration-300 ease-in-out"
    >
      <nav class="space-y-2 flex-1">
        <a
          routerLink="/dashboard/live-orders"
          routerLinkActive="bg-orange-50 text-orange-600 shadow-sm"
          [class.justify-center]="isSidebarCollapsed()"
          class="flex items-center gap-3 px-4 py-3 rounded-xl text-gray-600 font-semibold transition-all hover:bg-gray-50 group overflow-hidden h-[48px]"
        >
          <fa-icon
            [icon]="icons.location"
            class="text-lg min-w-[20px] transition-transform group-hover:scale-110"
          ></fa-icon>

          <span
            *ngIf="!isSidebarCollapsed()"
            class="flex-1 whitespace-nowrap animate-in fade-in duration-300"
          >
            Live Orders
          </span>

          <span
            *ngIf="!isSidebarCollapsed()"
            class="w-2 h-2 bg-orange-500 rounded-full animate-pulse"
          ></span>
        </a>

        <a
          routerLink="/dashboard/menu"
          routerLinkActive="bg-orange-50 text-orange-600 shadow-sm"
          [class.justify-center]="isSidebarCollapsed()"
          class="flex items-center gap-3 px-4 py-3 rounded-xl text-gray-600 font-semibold transition-all hover:bg-gray-50 group overflow-hidden h-[48px]"
        >
          <fa-icon
            [icon]="icons.menu"
            class="text-lg min-w-[20px] transition-transform group-hover:scale-110"
          ></fa-icon>
          <span
            *ngIf="!isSidebarCollapsed()"
            class="whitespace-nowrap animate-in fade-in duration-300"
          >
            Menu Items
          </span>
        </a>

        <a
          routerLink="/dashboard/kitchen"
          routerLinkActive="bg-orange-50 text-orange-600 shadow-sm"
          [class.justify-center]="isSidebarCollapsed()"
          class="flex items-center gap-3 px-4 py-3 rounded-xl text-gray-600 font-semibold transition-all hover:bg-gray-50 group overflow-hidden h-[48px]"
        >
          <fa-icon
            [icon]="icons.kitchen"
            class="text-lg min-w-[20px] transition-transform group-hover:scale-110"
          ></fa-icon>
          <span
            *ngIf="!isSidebarCollapsed()"
            class="whitespace-nowrap animate-in fade-in duration-300"
          >
            Kitchen Profile
          </span>
        </a>
      </nav>

      <div
        class="pt-4 border-t border-gray-50 transition-opacity"
        [class.opacity-0]="isSidebarCollapsed()"
      >
        <p
          class="text-[10px] font-bold text-gray-300 uppercase text-center tracking-widest whitespace-nowrap"
        >
          v1.0 Powered by LiveMenu
        </p>
      </div>
    </aside>

    <main class="flex-1 p-4 md:p-8 overflow-y-auto scroll-smooth">
      <div class="max-w-5xl mx-auto pb-6">
        <div class="mb-10">
          <div
            class="flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-widest mb-1"
          >
            <fa-icon [icon]="icons.kitchen"></fa-icon> <span>Dashboard</span>

            <ng-container
              *ngFor="let crumb of getBreadcrumbs(); let last = last"
            >
              <span class="text-gray-300">/</span>
              <span [class.text-orange-500]="last">{{ crumb }}</span>
            </ng-container>
          </div>

          <h2
            class="text-4xl font-black text-gray-900 capitalize tracking-tight"
          >
            {{ getPageRouteName() }}
          </h2>
        </div>

        <router-outlet></router-outlet>
      </div>
    </main>
  </div>
</div>
